{
	"$schema": "https://raw.githubusercontent.com/microsoft/botbuilder-samples/master/experimental/generation/runbot/runbot.schema",
	"$kind": "Microsoft.AdaptiveDialog",
	"recognizer": "test.lu",
	"generator": "test.lg",
	"schema": "test.json",
	"triggers": [
		{
			"$kind": "Microsoft.OnEndOfActions",
			"condition": "!$Task || $PropertyToChange == 'Task'",
			"priority": "=indexOf(dialog.requiredProperties, 'Task')",
			"actions": [
				{
					"$kind": "Microsoft.Ask",
					"activity": "${AskTask()}",
					"expectedProperties": [
						"Task"
					]
				}
			],
			"id": "test-Task-missing",
			"$Generator": "6d160e7bac84b3358f0067160fb23758"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "ClearProperty",
			"entity": "PROPERTYName",
			"condition": "@PROPERTYName == 'Task'",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${clearPropertyMessage('Task')}"
				},
				{
					"$kind": "Microsoft.DeleteProperty",
					"property": "$Task"
				}
			],
			"id": "test-Task-clear",
			"$Generator": "17bf7cb2091abc3651ac8af6bf33cf8f"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "ShowProperty",
			"entity": "PROPERTYName",
			"condition": "@PROPERTYName == 'Task'",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${showPropertyMessage(@PROPERTYName)}"
				}
			],
			"id": "test-Task-show",
			"$Generator": "b2aa40fb5b187cbb14310532c831cac3"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "Task",
			"entity": "utterance",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${setPropertyMessage('Task', @utterance)}"
				},
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$Task",
					"value": "=@utterance"
				},
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$PropertyToChange == 'Task'",
					"actions": [
						{
							"$kind": "Microsoft.DeleteProperty",
							"property": "$PropertyToChange"
						}
					]
				}
			],
			"id": "test-Task-add-utterance",
			"$Generator": "c0e1e494c64a8811fe6af3851f3da11d"
		},
		{
			"$kind": "Microsoft.OnEndOfActions",
			"condition": "!$ToDoType || $PropertyToChange == 'ToDoType'",
			"priority": "=indexOf(dialog.requiredProperties, 'ToDoType')",
			"actions": [
				{
					"$kind": "Microsoft.Ask",
					"activity": "${AskToDoType()}",
					"expectedProperties": [
						"ToDoType"
					]
				}
			],
			"id": "test-ToDoType-missing",
			"$Generator": "10e8e8f6812d9ce35060a99b3aae9f60"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "ClearProperty",
			"entity": "PROPERTYName",
			"condition": "@PROPERTYName == 'ToDoType'",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${clearPropertyMessage('ToDoType')}"
				},
				{
					"$kind": "Microsoft.DeleteProperty",
					"property": "$ToDoType"
				}
			],
			"id": "test-ToDoType-clear",
			"$Generator": "c1ce00ebcc72905abc0646c377fb6e9e"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "ShowProperty",
			"entity": "PROPERTYName",
			"condition": "@PROPERTYName == 'ToDoType'",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${showPropertyMessage(@PROPERTYName)}"
				}
			],
			"id": "test-ToDoType-show",
			"$Generator": "5c9c497506d848243e430ecdc55b357e"
		},
		{
			"$kind": "Microsoft.OnChooseEntity",
			"entity": "ToDoTypeEntity",
			"actions": [
				{
					"$kind": "Microsoft.Ask",
					"activity": "${chooseToDoTypeEntity()}",
					"expectedProperties": [
						"ToDoType"
					]
				}
			],
			"id": "test-ToDoTypeEntity-choose",
			"$Generator": "42fed8157b4a8308c8ef01aa70301468"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "ToDoType",
			"entity": "ToDoTypeEntity",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${setPropertyMessage('ToDoType', @ToDoTypeEntity)}"
				},
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$ToDoType",
					"value": "=@ToDoTypeEntity"
				},
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$PropertyToChange == 'ToDoType'",
					"actions": [
						{
							"$kind": "Microsoft.DeleteProperty",
							"property": "$PropertyToChange"
						}
					]
				}
			],
			"id": "test-ToDoType-add-ToDoTypeEntity",
			"$Generator": "dbdf3b71ba50f5bc0332e9edfcefff1f"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "RemoveFromProperty",
			"property": "ToDoType",
			"entity": "ToDoTypeEntity",
			"actions": [
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$ToDoType == @ToDoTypeEntity",
					"actions": [
						{
							"$kind": "Microsoft.SendActivity",
							"activity": "${removePropertyMessage('ToDoType', @ToDoTypeEntity)}"
						},
						{
							"$kind": "Microsoft.DeleteProperty",
							"property": "ToDoType"
						}
					]
				}
			],
			"id": "test-ToDoType-remove-ToDoTypeEntity",
			"$Generator": "d8188f4b9121cca762c60eb65d7ade0a"
		},
		{
			"$kind": "Microsoft.OnIntent",
			"intent": "Cancel",
			"condition": "turn.recognized.score > 0.5",
			"actions": [
				{
					"$kind": "Microsoft.Ask",
					"activity": "${cancel()}",
					"expectedProperties": [
						"CancelConfirmation"
					]
				}
			],
			"id": "test-library-CancelIntent",
			"$Generator": "eba95f2b194eb52c4df1829a422778ce"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "CancelConfirmation",
			"entity": "boolean",
			"actions": [
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$CancelConfirmation",
					"value": "=@boolean"
				},
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$CancelConfirmation == 'true'",
					"actions": [
						{
							"$kind": "Microsoft.EndDialog"
						}
					]
				}
			],
			"id": "test-CancelConfirmation-add-boolean",
			"$Generator": "ee7cd1e20ffb9f976be62b4dc6846654"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "ChangePropertyConfirmation",
			"entity": "boolean",
			"actions": [
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$ChangePropertyConfirmation",
					"value": "=@boolean"
				},
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$ChangePropertyConfirmation == 'true'",
					"actions": [
						{
							"$kind": "Microsoft.Ask",
							"activity": "${template(concat('Ask',$PropertyToRemember))}",
							"expectedProperties": "createArray($PropertyToRemember)"
						}
					]
				}
			],
			"id": "test-ChangePropertyConfirmation-add-boolean",
			"$Generator": "dcbc11f13c33c67f37cc9bdf7e88d3d5"
		},
		{
			"$kind": "Microsoft.OnEndOfActions",
			"condition": "empty(where(dialog.requiredProperties, property, !dialog[property]))",
			"priority": 1000,
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${showForm('test', publicProperties())}"
				},
				{
					"$kind": "Microsoft.Ask",
					"activity": "${confirmChange()}",
					"expectedProperties": [
						"CompleteConfirmation"
					]
				}
			],
			"id": "test-library-CompleteConfirmation",
			"$Generator": "783227efa73c1cf7a45a789531c289c9"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "CompleteConfirmation",
			"entity": "boolean",
			"actions": [
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$CompleteConfirmation",
					"value": "=@boolean"
				},
				{
					"$kind": "Microsoft.IfCondition",
					"condition": "$CompleteConfirmation == 'false'",
					"actions": [
						{
							"$kind": "Microsoft.EndDialog"
						}
					],
					"elseActions": [
						{
							"$kind": "Microsoft.Ask",
							"activity": "${chooseProperty()}",
							"expectedProperties": [
								"PropertyToChange"
							]
						}
					]
				}
			],
			"id": "test-CompleteConfirmation-add-boolean",
			"$Generator": "22fafe531fc4c49c5d4fc4163ec76f86"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "CompleteConfirmation",
			"entity": "PROPERTYName",
			"actions": [
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$PropertyToChange",
					"value": "=@PropertyName"
				}
			],
			"id": "test-CompleteConfirmation-add-PROPERTYName",
			"$Generator": "910bd671a4cdb7b564837b502df37243"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "PropertyToChange",
			"entity": "PROPERTYName",
			"actions": [
				{
					"$kind": "Microsoft.DeleteProperty",
					"property": "dialog[@PROPERTYName]"
				}
			],
			"id": "test-PropertyToChange-add-PROPERTYName",
			"$Generator": "f6a8f62500e563bb52f94768937388a9"
		},
		{
			"$kind": "Microsoft.OnAssignEntity",
			"operation": "AddToProperty",
			"property": "PropertyToRemember",
			"entity": "PROPERTYName",
			"actions": [
				{
					"$kind": "Microsoft.SetProperty",
					"property": "$PropertyToRemember",
					"value": "=@PROPERTYName"
				}
			],
			"id": "test-PropertyToRemember-add-PROPERTYName",
			"$Generator": "931cd8d0ab3c7b941cf3056b925d9f32"
		},
		{
			"$kind": "Microsoft.OnBeginDialog",
			"$comment": "TODO: This is a hack to work around the lack of a way to remit activity or not when invoked.",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${welcome()}"
				}
			],
			"id": "test-library-BeginDialog",
			"$Generator": "3305213034c05acf1a9fa1ab21105e1b"
		},
		{
			"$kind": "Microsoft.OnChooseProperty",
			"actions": [
				{
					"$kind": "Microsoft.Ask",
					"activity": "${chooseProperties()}",
					"expectedProperties": [
						"PropertyToChange"
					]
				}
			],
			"id": "test-library-ChooseProperty",
			"$Generator": "ef3b913ff4be56c110ec8be62176eaf5"
		},
		{
			"$kind": "Microsoft.OnIntent",
			"intent": "Help",
			"condition": "turn.recognized.score > 0.5",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${help(@PropertyName)}"
				}
			],
			"id": "test-library-HelpIntent",
			"$Generator": "310e0e7f0a23c42993594fde9b1949c4"
		},
		{
			"$kind": "Microsoft.OnIntent",
			"intent": "None",
			"condition": "count(turn.recognizedentities) == 0",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${notUnderstood()}"
				}
			],
			"id": "test-library-NotUnderstood",
			"$Generator": "91b3bdb01f74808f2ada9c0567fc9bb8"
		},
		{
			"$kind": "Microsoft.OnIntent",
			"intent": "test",
			"condition": "count(turn.recognizedentities) == 0",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${notUnderstood()}"
				}
			],
			"id": "test-trigger",
			"$Generator": "61f1a4cb1e7f4179e3b30411278dccdc"
		},
		{
			"$kind": "Microsoft.OnIntent",
			"intent": "ShowForm",
			"condition": "turn.recognized.score > 0.5",
			"actions": [
				{
					"$kind": "Microsoft.SendActivity",
					"activity": "${showForm('test', dialogClass.schema.$public)}"
				}
			],
			"id": "test-library-ShowFormIntent",
			"$Generator": "fa1bcd1af2bee5a3182370f04f6ed39a"
		}
	],
	"$Generator": "90899ef66dd900dbda665c88168ad7cf"
}
